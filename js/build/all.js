!function e(t,n,a){function i(u,s){if(!n[u]){if(!t[u]){var o="function"==typeof require&&require;if(!s&&o)return o(u,!0);if(r)return r(u,!0);var l=new Error("Cannot find module '"+u+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[u]={exports:{}};t[u][0].call(c.exports,function(e){var n=t[u][1][e];return i(n?n:e)},c,c.exports,e,t,n,a)}return n[u].exports}for(var r="function"==typeof require&&require,u=0;u<a.length;u++)i(a[u]);return i}({1:[function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var i=e("./businessobject/data.manager"),r=a(i),u=e("./view/view.manager"),s=a(u),o=e("./services/surah.list.generator"),l=a(o),c=e("./services/ayat.selector"),f=a(c),h=e("./services/ayat.fetcher"),y=a(h),d=e("./services/ayat.reciter"),g=a(d),v=e("./controller/app.controller"),p=a(v);!function(){function e(){n=new r.default,t=new l.default(n),a=new s.default,u=new y.default,o=new g.default(a,n),c=new p.default(u,o),i=new f.default(a,n,c),t.generate()}var t=null,n=null,a=null,i=null,u=null,o=null,c=null;document.addEventListener("DOMContentLoaded",function(){e()})}()},{"./businessobject/data.manager":3,"./controller/app.controller":6,"./services/ayat.fetcher":8,"./services/ayat.reciter":9,"./services/ayat.selector":10,"./services/surah.list.generator":11,"./view/view.manager":12}],2:[function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r="http://www.everyayah.com/data/Alafasy_64kbps/",u=function(){function e(t,n,i){a(this,e),this.surahNumber=i,this.surahId=t,this.ayatNumber=n,this.recitationUrl=""+r+this.surahId+this.ayatNumber+".mp3",this.arabicText=null,this.englishTranslation=null,this.ayatSerial=0}return i(e,[{key:"getUniqueIdentifier",value:function(){return""+this.surahId+this.ayatNumber}},{key:"getRecitationUrl",value:function(){return this.recitationUrl}},{key:"isValid",value:function(){return null!==this.arabicText&&null!==this.englishTranslation}},{key:"getArabicText",value:function(){return this.arabicText}},{key:"getEnglishTranslation",value:function(){return this.englishTranslation}},{key:"getAyatNumber",value:function(){return this.ayatNumber}},{key:"getAyatSerial",value:function(){return this.ayatSerial}},{key:"setArabicText",value:function(e){this.arabicText=e}},{key:"setEnglishTranslation",value:function(e){this.englishTranslation=e}},{key:"setAyatSerial",value:function(e){this.ayatSerial=e}}]),e}();n.default=u},{}],3:[function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=function(){function e(){a(this,e),this.surahList=[]}return i(e,[{key:"getSurahList",value:function(){return this.surahList}},{key:"setSurahList",value:function(e){this.surahList=e}},{key:"isSurahExistByDisplayName",value:function(e){for(var t=!1,n=0;n<this.surahList.length;n++)if(this.surahList[n].getDisplayName()===e){t=!0;break}return t}},{key:"findSurahByDisplayName",value:function(e){if(!this.isSurahExistByDisplayName(e))return null;for(var t=0;t<this.surahList.length;t++)if(this.surahList[t].getDisplayName()===e)return this.surahList[t]}},{key:"findSurahBySurahNumber",value:function(e){return e<1||e>114?null:this.surahList[e-1]}}]),e}();n.default=r},{}],4:[function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=function(){function e(t,n,i){a(this,e),this.surahNumber=t,this.startAyat=n,this.endAyat=i}return i(e,[{key:"getSurahNumber",value:function(){return this.surahNumber}},{key:"getStartingAyat",value:function(){return this.startAyat}},{key:"getEndingAyat",value:function(){return this.endAyat}}]),e}();n.default=r},{}],5:[function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=function(){function e(t){a(this,e),this.number=t.number,this.name=t.name,this.englishName=t.englishName,this.numberOfAyat=t.numberOfAyahs,this.displayName="",this.generateDisplayName()}return i(e,[{key:"generateDisplayName",value:function(){this.displayName=this.number+". "+this.englishName+" ("+this.name+")"}},{key:"getDisplayName",value:function(){return this.displayName}}]),e}();n.default=r},{}],6:[function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=function(){function e(t,n){a(this,e),this.ayatFetcher=t,this.ayatReciter=n}return i(e,[{key:"startRecitation",value:function(e){var t=this,n=this.ayatFetcher.getAyats(e.getSurahNumber(),e.getStartingAyat(),e.getEndingAyat());n.then(function(e){return t.ayatReciter.reciteAyats(e)})}}]),e}();n.default=r},{}],7:[function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=function(){function e(){a(this,e)}return i(e,[{key:"to3digitString",value:function(e){return e<10?"00"+e:e<100?"0"+e:e.toString()}}]),e}();n.default=r},{}],8:[function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=e("../misc/util"),s=a(u),o=e("../businessobject/ayat.info"),l=a(o),c=function(){function e(){i(this,e),this.util=new s.default}return r(e,[{key:"getAyat",value:function(e,t){var n=this.util.to3digitString(e),a=this.util.to3digitString(t),i="resources/ayat/"+n+"/"+n+a+".json",r=new l.default(n,a,e),u=new Promise(function(e,t){fetch(i).then(function(e){return e.json()}).then(function(e){r.setArabicText(e.arabic),r.setEnglishTranslation(e.english),r.setAyatSerial(e.id)}).then(e(r))});return u}},{key:"getAyats",value:function(e,t,n){for(var a=[],i=[],r=t;r<=n;r++)a.push(this.getAyat(e,r));a.forEach(function(e){return e.then(function(e){return i.push(e)})});var u=new Promise(function(e,t){window.setTimeout(function(){i.sort(function(e,t){return e.getAyatSerial()-t.getAyatSerial()}),e(i)},1500)});return u}}]),e}();n.default=c},{"../businessobject/ayat.info":2,"../misc/util":7}],9:[function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=function(){function e(t,n){a(this,e),this.index=0,this.ayats=null,this.viewManager=t,this.dataManager=n}return i(e,[{key:"reciteAyats",value:function(e){this.ayats=e,this.index=0,this.viewManager.hideSelectionArea(),this.processSingleAyat()}},{key:"processSingleAyat",value:function(){this.isRecitationEnded()?(this.viewManager.setContentAtAyatArea(""),this.viewManager.appearSelectionArea(),this.viewManager.resetSelectionArea()):this.reciteSingleAyat()}},{key:"reciteSingleAyat",value:function(){var e=this,t=this.ayats[this.index],n='<audio src="'+t.getRecitationUrl()+'" autoplay id="recitation"></audio>',a=this.dataManager.findSurahBySurahNumber(t.surahNumber);n+='<p class="englishText">'+a.englishName+", ayat # "+t.getAyatNumber()+"</p>",n+='<p class="arabicText">'+t.getArabicText()+"</p>",n+='<p class="englishText">'+t.getEnglishTranslation()+"</p>",this.viewManager.setContentAtAyatArea(n),this.index++;var i=document.getElementById("recitation");i.addEventListener("ended",function(){return e.processSingleAyat()})}},{key:"isRecitationEnded",value:function(){return null==this.ayats||this.index>=this.ayats.length}}]),e}();n.default=r},{}],10:[function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=e("../businessobject/selection"),s=a(u),o=function(){function e(t,n,a){i(this,e),this.viewManager=t,this.dataManager=n,this.appController=a,this.surah=null,this.initListener()}return r(e,[{key:"initListener",value:function(){var e=this;this.viewManager.getSelectedSurahNode().addEventListener("input",function(){return e.checkValidSurahName()}),this.viewManager.getStartingAyatNode().addEventListener("input",function(){return e.populateEndingAyatDropDown()}),this.viewManager.getEndingAyatNode().addEventListener("input",function(){return e.proceedToRecitation()})}},{key:"checkValidSurahName",value:function(){this.dataManager.isSurahExistByDisplayName(this.viewManager.getSelectedSurah())&&this.surahSelected()}},{key:"surahSelected",value:function(){this.surah=this.dataManager.findSurahByDisplayName(this.viewManager.getSelectedSurah()),this.populateStartingAyatDropDown(),this.populateEndingAyatDropDown()}},{key:"populateStartingAyatDropDown",value:function(){this.viewManager.setContentAtStartingAyat(this.generateOptions(1,this.surah.numberOfAyat))}},{key:"populateEndingAyatDropDown",value:function(){var e=this.generateOptions(this.viewManager.getStartingAyat(),this.surah.numberOfAyat);this.viewManager.setContentAtEndingAyat(e)}},{key:"generateOptions",value:function(e,t){for(var n="",a=e;a<=t;a++)n+="<option>"+a+"</option>";return n}},{key:"proceedToRecitation",value:function(){var e=new s.default(this.surah.number,this.viewManager.getStartingAyat(),this.viewManager.getEndingAyat());this.appController.startRecitation(e)}}]),e}();n.default=o},{"../businessobject/selection":4}],11:[function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=e("../businessobject/surah.info"),s=a(u),o=function(){function e(t){i(this,e),this.dataManager=t,this.surahListNodeId="surahList",this.surahListUri="resources/surah.list.json"}return r(e,[{key:"generate",value:function(){var e=this;fetch(this.surahListUri).then(function(e){return e.json()}).then(function(t){e.dataManager.setSurahList(e.generateSurahInfos(t)),e.generateSurahListHtml()})}},{key:"generateSurahInfos",value:function(e){var t=[];return e.forEach(function(e){return t.push(new s.default(e))}),t}},{key:"generateSurahListHtml",value:function(){var e=this,t="";this.dataManager.getSurahList().forEach(function(n){return t+=e.generateOptionTagFromSurah(n)});var n=document.getElementById(this.surahListNodeId);n.innerHTML=t}},{key:"generateOptionTagFromSurah",value:function(e){var t='<option value="'+e.getDisplayName()+'">';return t}}]),e}();n.default=o},{"../businessobject/surah.info":5}],12:[function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=function(){function e(){a(this,e),this.surahInputId="selectedSurah",this.startingAyatId="startingAyat",this.endingAyatId="endingAyat",this.ayatAreaId="ayatArea",this.selectionAreaId="selectionArea",this.surahInputNode=null,this.startingAyatNode=null,this.endingAyatNode=null,this.ayatAreaNode=null,this.selectionAreaNode=null,this.initialize()}return i(e,[{key:"initialize",value:function(){this.surahInputNode=document.getElementById(this.surahInputId),this.startingAyatNode=document.getElementById(this.startingAyatId),this.endingAyatNode=document.getElementById(this.endingAyatId),this.ayatAreaNode=document.getElementById(this.ayatAreaId),this.selectionAreaNode=document.getElementById(this.selectionAreaId)}},{key:"getStartingAyatNode",value:function(){return this.startingAyatNode}},{key:"getEndingAyatNode",value:function(){return this.endingAyatNode}},{key:"getStartingAyat",value:function(){return parseInt(this.startingAyatNode.value)}},{key:"getEndingAyat",value:function(){return parseInt(this.endingAyatNode.value)}},{key:"getSelectedSurahNode",value:function(){return this.surahInputNode}},{key:"getSelectedSurah",value:function(){return this.surahInputNode.value}},{key:"setContentAtStartingAyat",value:function(e){this.startingAyatNode.innerHTML=e}},{key:"setContentAtEndingAyat",value:function(e){this.endingAyatNode.innerHTML=e}},{key:"setContentAtAyatArea",value:function(e){this.ayatAreaNode.innerHTML=e}},{key:"hideSelectionArea",value:function(){this.selectionAreaNode.classList.add("hide")}},{key:"appearSelectionArea",value:function(){this.selectionAreaNode.classList.remove("hide")}},{key:"resetSelectionArea",value:function(){this.surahInputNode.value="",this.startingAyatNode.innerHTML="",this.endingAyatNode.innerHTML=""}}]),e}();n.default=r},{}]},{},[1]);