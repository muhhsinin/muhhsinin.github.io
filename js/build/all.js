!function t(e,n,a){function i(u,o){if(!n[u]){if(!e[u]){var s="function"==typeof require&&require;if(!o&&s)return s(u,!0);if(r)return r(u,!0);var l=new Error("Cannot find module '"+u+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[u]={exports:{}};e[u][0].call(c.exports,function(t){var n=e[u][1][t];return i(n?n:t)},c,c.exports,t,e,n,a)}return n[u].exports}for(var r="function"==typeof require&&require,u=0;u<a.length;u++)i(a[u]);return i}({1:[function(t,e,n){"use strict";function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,n,a){return n&&t(e.prototype,n),a&&t(e,a),e}}(),r=function(){function t(e,n){a(this,t),this.ayatFetcher=e,this.ayatReciter=n}return i(t,[{key:"startRecitation",value:function(t){var e=this,n=this.ayatFetcher.getAyats(t.getSurahInfo().number,t.getStartingAyat(),t.getEndingAyat());n.then(function(t){return e.ayatReciter.reciteAyats(t)})}}]),t}();n.default=r},{}],2:[function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}var i=t("./businessobject/data.manager"),r=a(i),u=t("./view.manager"),o=a(u),s=t("./services/surah.list.generator"),l=a(s),c=t("./services/ayat.selector"),f=a(c),h=t("./services/ayat.fetcher"),y=a(h),d=t("./services/ayat.reciter"),g=a(d),v=t("./app.controller"),p=a(v);!function(){function t(){n=new r.default,e=new l.default(n),a=new o.default,u=new y.default,s=new g.default(a),c=new p.default(u,s),i=new f.default(a,n,c),e.generate()}var e=null,n=null,a=null,i=null,u=null,s=null,c=null;document.addEventListener("DOMContentLoaded",function(){t()})}()},{"./app.controller":1,"./businessobject/data.manager":4,"./services/ayat.fetcher":7,"./services/ayat.reciter":8,"./services/ayat.selector":9,"./services/surah.list.generator":10,"./view.manager":12}],3:[function(t,e,n){"use strict";function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,n,a){return n&&t(e.prototype,n),a&&t(e,a),e}}(),r="http://www.everyayah.com/data/Alafasy_64kbps/",u=function(){function t(e,n){a(this,t),this.surahNumber=e,this.ayatNumber=n,this.recitationUrl=""+r+this.surahNumber+this.ayatNumber+".mp3",this.arabicText=null,this.englishTranslation=null,this.ayatSerial=0}return i(t,[{key:"getUniqueIdentifier",value:function(){return""+this.surahNumber+this.ayatNumber}},{key:"getRecitationUrl",value:function(){return this.recitationUrl}},{key:"isValid",value:function(){return null!==this.arabicText&&null!==this.englishTranslation}},{key:"getArabicText",value:function(){return this.arabicText}},{key:"getEnglishTranslation",value:function(){return this.englishTranslation}},{key:"getAyatNumber",value:function(){return this.ayatNumber}},{key:"getAyatSerial",value:function(){return this.ayatSerial}},{key:"setArabicText",value:function(t){this.arabicText=t}},{key:"setEnglishTranslation",value:function(t){this.englishTranslation=t}},{key:"setAyatSerial",value:function(t){this.ayatSerial=t}}]),t}();n.default=u},{}],4:[function(t,e,n){"use strict";function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,n,a){return n&&t(e.prototype,n),a&&t(e,a),e}}(),r=function(){function t(){a(this,t),this.surahList=[]}return i(t,[{key:"getSurahList",value:function(){return this.surahList}},{key:"setSurahList",value:function(t){this.surahList=t}},{key:"isSurahExistByDisplayName",value:function(t){for(var e=!1,n=0;n<this.surahList.length;n++)if(this.surahList[n].getDisplayName()===t){e=!0;break}return e}},{key:"findSurahByDisplayName",value:function(t){if(!this.isSurahExistByDisplayName(t))return null;for(var e=0;e<this.surahList.length;e++)if(this.surahList[e].getDisplayName()===t)return this.surahList[e]}}]),t}();n.default=r},{}],5:[function(t,e,n){"use strict";function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,n,a){return n&&t(e.prototype,n),a&&t(e,a),e}}(),r=function(){function t(e,n,i){a(this,t),this.surahInfo=e,this.startAyat=n,this.endAyat=i}return i(t,[{key:"getSurahInfo",value:function(){return this.surahInfo}},{key:"getStartingAyat",value:function(){return this.startAyat}},{key:"getEndingAyat",value:function(){return this.endAyat}}]),t}();n.default=r},{}],6:[function(t,e,n){"use strict";function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,n,a){return n&&t(e.prototype,n),a&&t(e,a),e}}(),r=function(){function t(e){a(this,t),this.number=e.number,this.name=e.name,this.englishName=e.englishName,this.numberOfAyat=e.numberOfAyahs,this.displayName="",this.generateDisplayName()}return i(t,[{key:"generateDisplayName",value:function(){this.displayName=this.number+". "+this.englishName+" ("+this.name+")"}},{key:"getDisplayName",value:function(){return this.displayName}}]),t}();n.default=r},{}],7:[function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,n,a){return n&&t(e.prototype,n),a&&t(e,a),e}}(),u=t("../util"),o=a(u),s=t("../businessobject/ayat.info"),l=a(s),c=function(){function t(){i(this,t),this.util=new o.default}return r(t,[{key:"getAyat",value:function(t,e){var n=this.util.to3digitString(t),a=this.util.to3digitString(e),i="resources/ayat/"+n+"/"+n+a+".json",r=new l.default(n,a),u=new Promise(function(t,e){fetch(i).then(function(t){return t.json()}).then(function(t){r.setArabicText(t.arabic),r.setEnglishTranslation(t.english),r.setAyatSerial(t.id)}).then(t(r))});return u}},{key:"getAyats",value:function(t,e,n){for(var a=[],i=[],r=e;r<=n;r++)a.push(this.getAyat(t,r));a.forEach(function(t){return t.then(function(t){return i.push(t)})});var u=new Promise(function(t,e){window.setTimeout(function(){i.sort(function(t,e){return t.getAyatSerial()-e.getAyatSerial()}),t(i)},1500)});return u}}]),t}();n.default=c},{"../businessobject/ayat.info":3,"../util":11}],8:[function(t,e,n){"use strict";function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,n,a){return n&&t(e.prototype,n),a&&t(e,a),e}}(),r=function(){function t(e){a(this,t),this.index=0,this.ayats=null,this.viewManager=e}return i(t,[{key:"reciteAyats",value:function(t){this.ayats=t,this.index=0,this.processSingleAyat()}},{key:"processSingleAyat",value:function(){this.isRecitationEnded()?this.viewManager.setContentAtAyatArea(""):this.reciteSingleAyat()}},{key:"reciteSingleAyat",value:function(){var t=this,e=this.ayats[this.index],n='<audio src="'+e.getRecitationUrl()+'" autoplay id="recitation"></audio>';n+="<p>Ayat # "+e.getAyatNumber()+"</p>",n+="<p>"+e.getArabicText()+"</p>",n+="<p>"+e.getEnglishTranslation()+"</p>",this.viewManager.setContentAtAyatArea(n),this.index++;var a=document.getElementById("recitation");a.addEventListener("ended",function(){return t.processSingleAyat()})}},{key:"isRecitationEnded",value:function(){return null==this.ayats||this.index>=this.ayats.length}}]),t}();n.default=r},{}],9:[function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,n,a){return n&&t(e.prototype,n),a&&t(e,a),e}}(),u=t("../businessobject/selection"),o=a(u),s=function(){function t(e,n,a){i(this,t),this.viewManager=e,this.dataManager=n,this.appController=a,this.surah=null,this.initListener()}return r(t,[{key:"initListener",value:function(){var t=this;this.viewManager.getSelectedSurahNode().addEventListener("input",function(){return t.checkValidSurahName()}),this.viewManager.getStartingAyatNode().addEventListener("input",function(){return t.populateEndingAyatDropDown()}),this.viewManager.getEndingAyatNode().addEventListener("input",function(){return t.proceedToRecitation()})}},{key:"checkValidSurahName",value:function(){this.dataManager.isSurahExistByDisplayName(this.viewManager.getSelectedSurah())&&this.surahSelected()}},{key:"surahSelected",value:function(){this.surah=this.dataManager.findSurahByDisplayName(this.viewManager.getSelectedSurah()),this.populateStartingAyatDropDown(),this.populateEndingAyatDropDown()}},{key:"populateStartingAyatDropDown",value:function(){this.viewManager.setContentAtStartingAyat(this.generateOptions(1,this.surah.numberOfAyat))}},{key:"populateEndingAyatDropDown",value:function(){var t=this.generateOptions(this.viewManager.getStartingAyat(),this.surah.numberOfAyat);this.viewManager.setContentAtEndingAyat(t)}},{key:"generateOptions",value:function(t,e){for(var n="",a=t;a<=e;a++)n+="<option>"+a+"</option>";return n}},{key:"proceedToRecitation",value:function(){var t=new o.default(this.surah,this.viewManager.getStartingAyat(),this.viewManager.getEndingAyat());this.appController.startRecitation(t)}}]),t}();n.default=s},{"../businessobject/selection":5}],10:[function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,n,a){return n&&t(e.prototype,n),a&&t(e,a),e}}(),u=t("../businessobject/surah.info"),o=a(u),s=function(){function t(e){i(this,t),this.dataManager=e,this.surahListNodeId="surahList",this.surahListUri="resources/surah.list.json"}return r(t,[{key:"generate",value:function(){var t=this;fetch(this.surahListUri).then(function(t){return t.json()}).then(function(e){t.dataManager.setSurahList(t.generateSurahInfos(e)),t.generateSurahListHtml()})}},{key:"generateSurahInfos",value:function(t){var e=[];return t.forEach(function(t){return e.push(new o.default(t))}),e}},{key:"generateSurahListHtml",value:function(){var t=this,e="";this.dataManager.getSurahList().forEach(function(n){return e+=t.generateOptionTagFromSurah(n)});var n=document.getElementById(this.surahListNodeId);n.innerHTML=e}},{key:"generateOptionTagFromSurah",value:function(t){var e='<option value="'+t.getDisplayName()+'">';return e}}]),t}();n.default=s},{"../businessobject/surah.info":6}],11:[function(t,e,n){"use strict";function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,n,a){return n&&t(e.prototype,n),a&&t(e,a),e}}(),r=function(){function t(){a(this,t)}return i(t,[{key:"to3digitString",value:function(t){return t<10?"00"+t:t<100?"0"+t:t.toString()}}]),t}();n.default=r},{}],12:[function(t,e,n){"use strict";function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,n,a){return n&&t(e.prototype,n),a&&t(e,a),e}}(),r=function(){function t(){a(this,t),this.surahInputId="selectedSurah",this.startingAyatId="startingAyat",this.endingAyatId="endingAyat",this.ayatAreaId="ayatArea",this.surahInputNode=null,this.startingAyatNode=null,this.endingAyatNode=null,this.ayatAreaNode=null,this.initialize()}return i(t,[{key:"initialize",value:function(){this.surahInputNode=document.getElementById(this.surahInputId),this.startingAyatNode=document.getElementById(this.startingAyatId),this.endingAyatNode=document.getElementById(this.endingAyatId),this.ayatAreaNode=document.getElementById(this.ayatAreaId)}},{key:"getStartingAyatNode",value:function(){return this.startingAyatNode}},{key:"getEndingAyatNode",value:function(){return this.endingAyatNode}},{key:"getStartingAyat",value:function(){return parseInt(this.startingAyatNode.value)}},{key:"getEndingAyat",value:function(){return parseInt(this.endingAyatNode.value)}},{key:"getSelectedSurahNode",value:function(){return this.surahInputNode}},{key:"getSelectedSurah",value:function(){return this.surahInputNode.value}},{key:"setContentAtStartingAyat",value:function(t){this.startingAyatNode.innerHTML=t}},{key:"setContentAtEndingAyat",value:function(t){this.endingAyatNode.innerHTML=t}},{key:"setContentAtAyatArea",value:function(t){this.ayatAreaNode.innerHTML=t}}]),t}();n.default=r},{}]},{},[2]);